"use strict";function asyncGeneratorStep(e,n,r,t,c,a,s){try{var o=e[a](s),u=o.value}catch(e){return void r(e)}o.done?n(u):Promise.resolve(u).then(t,c)}function _asyncToGenerator(o){return function(){var e=this,s=arguments;return new Promise(function(n,r){var t=o.apply(e,s);function c(e){asyncGeneratorStep(t,n,r,c,a,"next",e)}function a(e){asyncGeneratorStep(t,n,r,c,a,"throw",e)}c(void 0)})}}var staticCacheName="static-cache-v1.0",dynamicCacheName="dynamic-cache-v1.0",staticAssets=["./","./index.html","./css/main.min.css","./css/header.min.css","./js/registerWorker.min.js","./js/common.min.js"];function checkCache(e){return _checkCache.apply(this,arguments)}function _checkCache(){return(_checkCache=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.match(n);case 2:return r=e.sent,e.abrupt("return",r||checkOnline(n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function checkOnline(e){return _checkOnline.apply(this,arguments)}function _checkOnline(){return(_checkOnline=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.open(dynamicCacheName);case 2:return r=e.sent,e.prev=3,e.next=6,fetch(n);case 6:return t=e.sent,e.next=9,r.put(n,t.clone());case 9:return e.abrupt("return",t);case 12:return e.prev=12,e.t0=e.catch(3),e.next=16,r.match(n);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e,null,[[3,12]])}))).apply(this,arguments)}self.addEventListener("install",function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.open(staticCacheName);case 2:return r=e.sent,e.next=5,r.addAll(staticAssets);case 5:console.log("Service workar has been installed:");case 6:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}()),self.addEventListener("activate",function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,caches.keys();case 2:return r=e.sent,t=r.map(function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(staticCacheName!==n)return e.next=3,caches.delete(n);e.next=3;break;case 3:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}()),e.next=6,Promise.all(t);case 6:console.log("Service workar has been activated:");case 7:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}()),self.addEventListener("fetch",function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Trying to fetch:",n.request.url),n.respondWith(caches.match(n.request).then(function(e){return e||fetch(n.request)})),n.respondWith(checkCache(n.request));case 3:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}());